jQuery(document).ready(function(u){"use strict";u.fn.shake=function(o,e,t){return this.each(function(){u(this).css("position","relative");for(var s=1;s<=o;s++)u(this).animate({top:-1*e},t/o/4).animate({top:e},t/o/2).animate({top:0},t/o/4)}),this};var o={promise:u.when(),parseBool:function(s){return!/^(false|0)$/i.test(s)&&!!s},init:function(){"false"!==WPGlobusPlus.tab&&""!==WPGlobusPlus.tab||(WPGlobusPlus.tab=o.parseBool(WPGlobusPlus.tab)),!1===WPGlobusPlus.tab?this.addMainMenuItem():"string"==typeof WPGlobusPlus.tab&&(this.addMainMenuItem(),this.modulePublish(),this.addListeners(),this.setModules(),this.setSections())},addMainMenuItem:function(){setTimeout(function(){var s=u("#toplevel_page_wpglobus_options .wp-submenu");(s=0==s.length?u("#toplevel_page_wpglobus-options .wp-submenu"):s).append('<li><a href="'+WPGlobusPlus.option_page+'">'+WPGlobusPlus.caption_menu_item+"</a></li>")},200)},setSections:function(){"undefined"!=typeof WPGlobusPlusSections&&setTimeout(function(){u(WPGlobusPlusSections.html).appendTo(u(".wpglobus-plus-sections")),u(".wpglobus-plus-sections").css({display:"block"}),u(".wpglobus-plus-section").addClass("tab-"+WPGlobusPlus.tab).addClass(WPGlobusPlusSections.section).addClass("section-"+WPGlobusPlusSections.section)},500)},modulePublish:function(){WPGlobusPlus.tab},addListeners:function(){u(document).on("click",".wpglobus-plus-module",function(s){var e=u(this),t=e.parents(".module-block").find(".wpglobus-plus-spinner");e.css({display:"none"}),t.css({display:"block"}),o.promise=o.promise.then(function(){return o.ajax({action:"activate-module",module:e.data("module"),active_status:e.prop("checked")||"",moduleData:WPGlobusPlus.modules[e.data("module")]},function(){}).done(function(s){o.done(s)}).fail(function(s){}).always(function(s,o){t.css({display:"none"}),e.css({display:"inline-block"})})})})},ajax:function(s,o){return u.ajax({beforeSend:function(){void 0!==o&&o()},type:"POST",url:ajaxurl,data:{action:WPGlobusPlus.process_ajax,order:s},dataType:"json"})},setModules:function(s,e){var t={};void 0===s?u(".wpglobus-plus-module").each(function(s,o){t[s]=u(o).data("module")}):t[0]=s,u.each(t,function(s,o){void 0===e?u("#wpglobus-plus-"+o).prop("checked")?u(".subtitle-module-"+o).css({display:"block"}):u(".subtitle-module-"+o).css({display:"none"}):"true"==e.order.active_status?u(".subtitle-module-"+o).css({display:"block"}):u(".subtitle-module-"+o).css({display:"none"})})},done:function(s){"string"==typeof s.order.module&&o.setModules(s.order.module,s)}};WPGlobusPlus=u.extend({},WPGlobusPlus,o),WPGlobusPlus.init()});